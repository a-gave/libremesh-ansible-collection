---
- name: 0.1 - Include Libremesh Version variables
  ansible.builtin.include_vars:
    file: "{{libremesh_version_vars}}"
  when: libremesh_version is defined

- name: 0.2 - Include Libremesh Target variables if any
  ansible.builtin.include_vars:
    file: "{{libremesh_target_vars}}"
  when: libremesh_version is defined and openwrt_targets is defined
  ignore_errors: true
  
- name: 0.3 - Include Community variables main
  ansible.builtin.include_vars:
    file: "{{libremesh_community_vars}}"
  when: libremesh_community is defined

- name: 0.4 - Include Community variables file
  ansible.builtin.include_vars:
    file: "{{libremesh_community_file_vars}}"
  when: libremesh_community is defined and libremesh_community_variables_file is defined

- name: 0.5 - Include Hostvars
  ansible.builtin.include_vars:
    file: "{{ playbook_dir }}/host_vars/{{ inventory_hostname }}.yml"
  ignore_errors: true